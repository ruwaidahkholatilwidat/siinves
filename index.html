<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Inventaris Barang</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0f172a;
      color: white;
      display: flex;
      height: 100vh;
    }
    .sidebar {
      width: 250px;
      background-color: #1e293b;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .sidebar h2 {
      font-size: 22px;
      margin-bottom: 5px;
    }
    .sidebar p.desc {
      font-size: 12px;
      color: #94a3b8;
      margin-bottom: 20px;
    }
    .sidebar nav ul {
      list-style: none;
      padding: 0;
    }
    .sidebar nav ul li {
      margin-bottom: 12px;
    }
    .sidebar nav ul li a {
      text-decoration: none;
      color: #e2e8f0;
      padding: 8px 12px;
      display: block;
      border-radius: 4px;
    }
    .sidebar nav ul li a:hover {
      background-color: #334155;
    }
    .sidebar .btn-green {
      background-color: #10b981;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 20px;
      cursor: pointer;
    }
    .main {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }
    .topbar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    .topbar input {
      width: 60%;
      padding: 10px;
      border-radius: 5px;
      border: none;
    }
    .profile {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #334155;
    }
    h1 {
      margin-bottom: 8px;
    }
    .cards {
      display: flex;
      gap: 20px;
      margin: 20px 0;
    }
    .card {
      background-color: #1e293b;
      padding: 20px;
      border-radius: 8px;
      flex: 1;
    }
    .card h3 {
      font-size: 14px;
      color: #94a3b8;
    }
    .card p {
      font-size: 24px;
      font-weight: bold;
      margin-top: 10px;
    }
    .form {
      margin: 20px 0;
    }
    .form input, .form button {
      padding: 10px;
      margin: 5px 0;
      border: none;
      border-radius: 5px;
      width: 100%;
    }
    .form button {
      background-color: #3b82f6;
      color: white;
      cursor: pointer;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background-color: #1e293b;
      border-radius: 8px;
      overflow: hidden;
    }
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #334155;
    }
    th {
      background-color: #0f172a;
      color: #94a3b8;
    }
    button.hapus {
      background-color: #ef4444;
      color: white;
      padding: 5px 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <aside class="sidebar">
    <div>
      <h2>INVENTARIS</h2>
      <p class="desc">Sistem Inventaris Barang Sekolah</p>
      <button class="btn-green" onclick="showForm()">+ Tambah Barang</button>
      <nav>
        <ul>
          <li><a href="#">Dashboard</a></li>
          <li><a href="#">Data Barang</a></li>
          <li><a href="#">Kategori</a></li>
          <li><a href="#">Laporan</a></li>
        </ul>
      </nav>
    </div>
    <footer>
      <p style="font-size:12px; color:#94a3b8">&copy; 2025. Inventaris by YOU</p>
    </footer>
  </aside>

  <main class="main">
    <div class="topbar">
      <input type="text" id="search" placeholder="Cari barang..." onkeyup="tampilkanBarang()">
      <div class="profile"></div>
    </div>
    <h1>Dashboard</h1>
    <p>Selamat datang di Sistem Inventaris Barang Sekolah</p>

    <div class="cards">
      <div class="card"><h3>Total Barang</h3><p id="total-barang">0</p></div>
      <div class="card"><h3>Kategori</h3><p id="total-kategori">0</p></div>
    </div>

    <div class="form" id="form-barang" style="display:none;">
      <input type="text" id="nama" placeholder="Nama Barang">
      <input type="text" id="kategori" placeholder="Kategori">
      <input type="number" id="jumlah" placeholder="Jumlah">
      <button onclick="simpanBarang()">Simpan</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>Nama</th>
          <th>Kategori</th>
          <th>Jumlah</th>
          <th>Aksi</th>
        </tr>
      </thead>
      <tbody id="tabelBarang"></tbody>
    </table>
  </main>

  <script>
    const dataAwal = [
      { nama: "Laptop", kategori: "Elektronik", jumlah: 10 },
      { nama: "Kursi", kategori: "Perabot", jumlah: 20 }
    ];

    let daftarBarang = JSON.parse(localStorage.getItem("barang")) || dataAwal;
    localStorage.setItem("barang", JSON.stringify(daftarBarang));

    function simpanBarang() {
      const nama = document.getElementById("nama").value.trim();
      const kategori = document.getElementById("kategori").value.trim();
      const jumlah = parseInt(document.getElementById("jumlah").value);
      if (!nama || !kategori || isNaN(jumlah)) return alert("Lengkapi semua data!");
      daftarBarang.push({ nama, kategori, jumlah });
      localStorage.setItem("barang", JSON.stringify(daftarBarang));
      tampilkanBarang();
      document.getElementById("form-barang").style.display = 'none';
    }

    function tampilkanBarang() {
      const tbody = document.getElementById("tabelBarang");
      const search = document.getElementById("search").value.toLowerCase();
      tbody.innerHTML = "";
      let kategoriSet = new Set();
      daftarBarang.forEach((b, i) => {
        if (b.nama.toLowerCase().includes(search)) {
          kategoriSet.add(b.kategori);
          tbody.innerHTML += `
            <tr>
              <td>${b.nama}</td>
              <td>${b.kategori}</td>
              <td>${b.jumlah}</td>
              <td><button class='hapus' onclick="hapusBarang(${i})">Hapus</button></td>
            </tr>`;
        }
      });
      document.getElementById("total-barang").textContent = daftarBarang.length;
      document.getElementById("total-kategori").textContent = kategoriSet.size;
    }

    function hapusBarang(i) {
      if (confirm("Hapus barang ini?")) {
        daftarBarang.splice(i, 1);
        localStorage.setItem("barang", JSON.stringify(daftarBarang));
        tampilkanBarang();
      }
    }

    function showForm() {
      document.getElementById("form-barang").style.display = 'block';
    }

    window.onload = tampilkanBarang;
  </script>
</body>
</html>
